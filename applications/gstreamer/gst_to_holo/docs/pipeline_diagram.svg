<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<svg width="1200" height="650" viewBox="0 0 1200 650" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <style>
      .title { font: bold 28px sans-serif; fill: #333; }
      .subtitle { font: bold 20px sans-serif; fill: #555; }
      .label { font: 16px sans-serif; fill: #333; }
      .small-label { font: 14px sans-serif; fill: #666; }
      .holoscan-box { fill: #76b900; stroke: #5a8f00; stroke-width: 2; }
      .gstreamer-box { fill: #ff6600; stroke: #cc5200; stroke-width: 2; }
      .input-box { fill: #0099cc; stroke: #007aa3; stroke-width: 2; }
      .display-box { fill: #9966cc; stroke: #7744aa; stroke-width: 2; }
      .arrow { stroke: #333; stroke-width: 3; fill: none; marker-end: url(#arrowhead); }
      .arrow-label { font: 14px sans-serif; fill: #555; }
      .section-bg { fill: #f5f5f5; stroke: #ccc; stroke-width: 1; }
      .legend-box { fill: white; stroke: #999; stroke-width: 1; }
    </style>
    <marker id="arrowhead" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <polygon points="0 0, 10 3, 0 6" fill="#333" />
    </marker>
  </defs>

  <!-- Title -->
  <text x="600" y="40" class="title" text-anchor="middle">GStreamer to Holoscan Bridge Architecture</text>

  <!-- ==================== Main Pipeline ==================== -->
  
  <!-- Section Background -->
  <rect x="20" y="80" width="1160" height="350" class="section-bg" rx="8"/>
  <text x="40" y="110" class="subtitle">Video Display Pipeline</text>

  <!-- Input Sources -->
  <rect x="50" y="140" width="180" height="240" class="input-box" rx="8"/>
  <text x="140" y="185" class="label" text-anchor="middle">Video Sources</text>
  <text x="140" y="215" class="small-label" text-anchor="middle">&#8226; Files (MP4, MKV)</text>
  <text x="140" y="240" class="small-label" text-anchor="middle">&#8226; Cameras (V4L2)</text>
  <text x="140" y="265" class="small-label" text-anchor="middle">&#8226; Streams (RTSP)</text>
  <text x="140" y="290" class="small-label" text-anchor="middle">&#8226; Test patterns</text>
  <text x="140" y="315" class="small-label" text-anchor="middle">&#8226; Network (UDP)</text>
  <text x="140" y="340" class="small-label" text-anchor="middle">&#8226; Custom sources</text>

  <!-- Arrow 1 -->
  <line x1="230" y1="260" x2="280" y2="260" class="arrow"/>

  <!-- GStreamer Pipeline -->
  <rect x="280" y="140" width="220" height="240" class="gstreamer-box" rx="8"/>
  <text x="390" y="185" class="label" text-anchor="middle">GStreamer Pipeline</text>
  <text x="390" y="210" class="small-label" text-anchor="middle">User-Defined</text>
  <text x="390" y="235" class="small-label" text-anchor="middle">Custom Processing:</text>
  <text x="390" y="260" class="small-label" text-anchor="middle">&#8226; Decode (CPU/GPU)</text>
  <text x="390" y="285" class="small-label" text-anchor="middle">&#8226; Convert formats</text>
  <text x="390" y="310" class="small-label" text-anchor="middle">&#8226; Apply effects</text>
  <text x="390" y="335" class="small-label" text-anchor="middle">&#8226; Demux containers</text>
  <text x="390" y="360" class="small-label" text-anchor="middle" font-weight="bold">(1000+ plugins)</text>

  <!-- Arrow 2 -->
  <line x1="500" y1="260" x2="550" y2="260" class="arrow"/>
  <text x="525" y="250" class="arrow-label" text-anchor="middle">appsink</text>

  <!-- GstSinkOp -->
  <rect x="550" y="140" width="200" height="240" class="holoscan-box" rx="8"/>
  <text x="650" y="185" class="label" text-anchor="middle">GstSinkOp</text>
  <text x="650" y="210" class="small-label" text-anchor="middle">Bridge to Holoscan</text>
  <text x="650" y="235" class="small-label" text-anchor="middle">Zero-Copy Conversion:</text>
  <text x="650" y="260" class="small-label" text-anchor="middle">GstBuffer &#8594; Tensor</text>
  <text x="650" y="290" class="small-label" text-anchor="middle">Supports:</text>
  <text x="650" y="315" class="small-label" text-anchor="middle">&#8226; RGBA (packed)</text>
  <text x="650" y="340" class="small-label" text-anchor="middle">&#8226; I420 (3-plane YUV)</text>
  <text x="650" y="365" class="small-label" text-anchor="middle">&#8226; NV12 (2-plane YUV)</text>

  <!-- Arrow 3 -->
  <line x1="750" y1="260" x2="800" y2="260" class="arrow"/>
  <text x="775" y="250" class="arrow-label" text-anchor="middle">tensor</text>

  <!-- Holoviz -->
  <rect x="800" y="140" width="200" height="240" class="holoscan-box" rx="8"/>
  <text x="900" y="185" class="label" text-anchor="middle">Holoviz</text>
  <text x="900" y="210" class="small-label" text-anchor="middle">Video Visualization</text>
  <text x="900" y="240" class="small-label" text-anchor="middle">High-Performance</text>
  <text x="900" y="265" class="small-label" text-anchor="middle">GPU Rendering</text>
  <text x="900" y="295" class="small-label" text-anchor="middle">Auto-detects:</text>
  <text x="900" y="320" class="small-label" text-anchor="middle">&#8226; Resolution</text>
  <text x="900" y="345" class="small-label" text-anchor="middle">&#8226; Format</text>
  <text x="900" y="370" class="small-label" text-anchor="middle">&#8226; Color space</text>

  <!-- Arrow 4 -->
  <line x1="1000" y1="260" x2="1050" y2="260" class="arrow"/>

  <!-- Display -->
  <rect x="1050" y="190" width="110" height="140" class="display-box" rx="8"/>
  <text x="1105" y="235" class="label" text-anchor="middle">Display</text>
  <text x="1105" y="265" class="small-label" text-anchor="middle">Window</text>
  <text x="1105" y="290" class="small-label" text-anchor="middle">Low Latency</text>
  <text x="1105" y="315" class="small-label" text-anchor="middle">Interactive</text>

  <!-- ==================== Legend ==================== -->
  
  <rect x="50" y="470" width="1100" height="120" class="legend-box" rx="8"/>
  <text x="70" y="495" class="subtitle">Legend:</text>
  
  <!-- Holoscan -->
  <rect x="170" y="480" width="100" height="30" class="holoscan-box" rx="4"/>
  <text x="220" y="501" class="small-label" text-anchor="middle">Holoscan</text>
  
  <!-- GStreamer -->
  <rect x="290" y="480" width="100" height="30" class="gstreamer-box" rx="4"/>
  <text x="340" y="501" class="small-label" text-anchor="middle">GStreamer</text>
  
  <!-- Input -->
  <rect x="410" y="480" width="80" height="30" class="input-box" rx="4"/>
  <text x="450" y="501" class="small-label" text-anchor="middle">Input</text>

  <!-- Display -->
  <rect x="510" y="480" width="80" height="30" class="display-box" rx="4"/>
  <text x="550" y="501" class="small-label" text-anchor="middle">Display</text>

  <!-- Key Feature Note -->
  <text x="650" y="495" class="small-label" font-weight="bold">Key Features:</text>
  <text x="650" y="520" class="small-label">&#8226; Universal input from any GStreamer source</text>
  <text x="650" y="545" class="small-label">&#8226; CPU/GPU memory paths</text>
  <text x="650" y="570" class="small-label">&#8226; Automatic format detection</text>
</svg>
